{"version":3,"file":"image-search.js","sources":["../src/js/search.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport axios from 'axios';\n\nconst API_KEY = '679609-0229bb159674f4386da445b6d';\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.target.search.value.trim();\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n\n  searchImages(query);\n});\n\nfunction searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  gallery.innerHTML = '';\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: 'Info',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        gallery.innerHTML = '';\n        return;\n      }\n      displayImages(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n      });\n      console.error('Error fetching images:', error);\n    });\n}\n\nfunction displayImages(images) {\n  gallery.innerHTML = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"image-card\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          <div class=\"image-info\">\n            <p><strong>Likes:</strong> ${image.likes}</p>\n            <p><strong>Views:</strong> ${image.views}</p>\n            <p><strong>Comments:</strong> ${image.comments}</p>\n            <p><strong>Downloads:</strong> ${image.downloads}</p>\n          </div>\n        </a>`\n    )\n    .join('');\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    /* opcje? */\n  });\n  lightbox.refresh();\n}\n"],"names":["API_KEY","form","gallery","event","query","iziToast","searchImages","url","response","data","displayImages","error","images","image","SimpleLightbox"],"mappings":"+IAQA,MAAMA,EAAU,mCACVC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAEjDD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,OAAO,MAAM,OACxC,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDC,EAAaF,CAAK,CACpB,CAAC,EAED,SAASE,EAAaF,EAAO,CAC3B,MAAMG,EAAM,gCAAgCP,CAAO,MAAM,mBACvDI,CACD,CAAA,2DAEDF,EAAQ,UAAY,GAEpB,MAAMK,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BJ,EAAS,KAAK,CACZ,MAAO,OACP,QACE,0EACZ,CAAS,EACDH,EAAQ,UAAY,GACpB,MACD,CACDQ,EAAcD,EAAK,IAAI,CAC7B,CAAK,EACA,MAAME,GAAS,CACdN,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,EACD,QAAQ,MAAM,yBAA0BM,CAAK,CACnD,CAAK,CACL,CAEA,SAASD,EAAcE,EAAQ,CAC7BV,EAAQ,UAAYU,EACjB,IACCC,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,yCAEnBA,EAAM,KAAK;AAAA,yCACXA,EAAM,KAAK;AAAA,4CACRA,EAAM,QAAQ;AAAA,6CACbA,EAAM,SAAS;AAAA;AAAA,aAGvD,EACA,KAAK,EAAE,EAEO,IAAIC,EAAe,aAAc,CAEpD,CAAG,EACQ,QAAO,CAClB"}